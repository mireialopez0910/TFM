<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d" d:DesignWidth="2200" d:DesignHeight="725"
			 xmlns:vm="using:GRASP_Builder.ViewModels"
			 x:DataType="vm:DownloadFilesViewModel"
			 x:Class="GRASP_Builder.DownloadFiles">
	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
		to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:DownloadFilesViewModel/>
	</Design.DataContext>
	
	<Grid Margin="5" HorizontalAlignment="Center"  VerticalAlignment="Center">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="10"/>
			<ColumnDefinition Width="350"/>
			<ColumnDefinition Width="10"/>
			<ColumnDefinition Width="350"/>
			<ColumnDefinition Width="10"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="10"/>
		</Grid.ColumnDefinitions>
	
		<Grid.RowDefinitions>
			<RowDefinition Height="10"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="10"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="10"/>
		</Grid.RowDefinitions>
		
		<Border Grid.Column="1" Grid.Row="1" VerticalAlignment="Bottom" IsEnabled="{Binding IsSelectDateEnabled}">
			<StackPanel Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center">
				<TextBlock Text="From Date" FontWeight="Bold" HorizontalAlignment="Center"/>
		
				<Calendar SelectionMode="SingleDate" FontFamily="LilyUPC"
						  SelectedDate="{Binding FromDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DisplayDateEnd="{Binding ToDate, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Margin="0,14,0,0"/>
				
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
					<TextBlock Text="Selected Date: "/>
				
					<TextBlock Text="{Binding FromDate, StringFormat='{}{0:dd/MM/yyyy}'}"/>
				</StackPanel>
			</StackPanel>
		</Border>

		<Border Grid.Column="3" Grid.Row="1" VerticalAlignment="Bottom" IsEnabled="{Binding IsSelectDateEnabled}">
			<StackPanel Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center">
				<TextBlock Text="To Date" FontWeight="Bold" HorizontalAlignment="Center"/>
				
				<Calendar SelectionMode="SingleDate" FontFamily="LilyUPC"
						  SelectedDate="{Binding ToDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DisplayDateStart="{Binding FromDate, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Margin="0,14,0,0"/>
				
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
					<TextBlock Text="Selected Date: "/>
					<TextBlock Text="{Binding ToDate, StringFormat='{}{0:dd/MM/yyyy}'}"/>
				</StackPanel>
			</StackPanel>
		</Border>
		
		<StackPanel Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="3" Grid.RowSpan="2" HorizontalAlignment="Center" IsEnabled="{Binding IsSelectDateEnabled}" Spacing="5">
			<StackPanel Orientation="Horizontal" Margin="0,5,0,-3">
				<TextBlock Text="Station: " Margin="10"/>
				
				<ComboBox Width="300" SelectedItem="BRC - Barcelona"/>
			</StackPanel>
			
			<Button Content="Download files for selected date range" Margin="10" Command="{Binding DownloadCmd}" FontStyle="Normal" HorizontalAlignment="Center"/>
			
			<ProgressBar Minimum="0" Maximum="100" Value="{Binding Progress, UpdateSourceTrigger=PropertyChanged}" Height="20" Width="400"/>
			
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
				<TextBlock Text="Progress: " Margin="0,10"/>
				
				<TextBlock Text="{Binding Progress, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Margin="0,10"/>
				
				<TextBlock Text="%" Margin="0,10"/>
			</StackPanel>
		</StackPanel>
		
		<Border Grid.Column="5" VerticalAlignment="Center" HorizontalAlignment="Left" Grid.RowSpan="7" IsVisible="{Binding IsDownloadedFilesVisible, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsSelectDateEnabled}" Background="#F3F3F3" BorderBrush="#F3F3F3" BorderThickness="2" CornerRadius="2">
			<StackPanel Margin="10" VerticalAlignment="Center" >
				<TextBlock Text="Downloaded files: " FontWeight="SemiBold"/>

				<TabControl TabStripPlacement="Left" Width="600">
					<TabItem FontSize="14" HorizontalAlignment="Right" Header="Actris-Earlinet">
						<TabItem.Content>
							<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Height="450">
								<ItemsControl ItemsSource="{Binding DownloadedFiles_EARLINET}">
									<ItemsControl.ItemTemplate>
										<DataTemplate>
											<CheckBox Content="{Binding Name, UpdateSourceTrigger=PropertyChanged}" IsChecked="{Binding IsChecked, UpdateSourceTrigger=PropertyChanged}" Margin="5" FontStyle="Normal"/>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</ScrollViewer>
						</TabItem.Content>
					</TabItem>
			
					<TabItem FontSize="14" HorizontalAlignment="Right" Header="Aeronet">
						<TabItem.Content>
							<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Height="450">
								<ItemsControl ItemsSource="{Binding DownloadedFiles_AERONET}">
									<ItemsControl.ItemTemplate>
										<DataTemplate>
											<CheckBox Content="{Binding Name, UpdateSourceTrigger=PropertyChanged}" IsChecked="{Binding IsChecked, UpdateSourceTrigger=PropertyChanged}" Margin="5" FontStyle="Normal"/>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</ScrollViewer>
						</TabItem.Content>
					</TabItem>
				</TabControl>

				<Button Content="Keep selected files" Command="{Binding KeepSelectedFilesCmd}" HorizontalAlignment="Center" Margin="15"/>
			</StackPanel>
		</Border>
	</Grid>
</UserControl>