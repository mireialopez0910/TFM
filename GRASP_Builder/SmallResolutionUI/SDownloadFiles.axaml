<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d" d:DesignWidth="590" d:DesignHeight="325"
			 xmlns:vm="using:GRASP_Builder.ViewModels"
			 x:DataType="vm:DownloadFilesViewModel"
			 x:Class="GRASP_Builder.SDownloadFiles">
	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
		to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:DownloadFilesViewModel/>
	</Design.DataContext>

	<Grid Margin="5" HorizontalAlignment="Center"  VerticalAlignment="Center">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="10"/>
			<ColumnDefinition Width="240"/>
			<ColumnDefinition Width="45"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="10"/>
		</Grid.ColumnDefinitions>

		<Grid.RowDefinitions>
			<RowDefinition Height="10"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="10"/>
		</Grid.RowDefinitions>

		<StackPanel Spacing="5" HorizontalAlignment="Center" Grid.Column="1" VerticalAlignment="Center" Margin="0,0,0,100">

			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="85"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>
				<TextBlock  Grid.Column="0" Text="From Date:" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="10" FontSize="11"/>

				<TextBox Grid.Column="1" Text="{Binding FromDate, StringFormat='{}{0:dd/MM/yyyy}', Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  FontSize="12"/>
			</Grid>


			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="85"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<TextBlock Grid.Column="0" Text="To Date:" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="10" FontSize="11"/>

				<TextBox Grid.Column="1" Text="{Binding ToDate, StringFormat='{}{0:dd/MM/yyyy}', Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  FontSize="12"/>

			</Grid>

			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="85"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>
				<TextBlock Text="Station:" FontWeight="SemiBold" HorizontalAlignment="Right" Margin="10" FontSize="11"/>

				<ComboBox Grid.Column="1" Width="150" SelectedItem="{Binding SelectedStation}" ItemsSource="{Binding StationsOptions, Mode=TwoWay}" FontSize="12"/>
			</Grid>

			<StackPanel HorizontalAlignment="Center" Spacing="10">
				<Button  Width="240" Command="{Binding DownloadCmd}" FontStyle="Normal" HorizontalAlignment="Center" Margin="0,15,0,0">
					<ContentControl>
						<TextBlock Text="Download files for selected date range" FontSize="12" HorizontalAlignment="Center" TextWrapping="Wrap"/>
					</ContentControl>
				</Button>

				<ProgressBar Minimum="0" Maximum="100" Value="{Binding Progress, UpdateSourceTrigger=PropertyChanged}" Height="20" Width="100"/>

				<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
					<TextBlock Text="Progress: " Margin="0,10" FontSize="11"/>

					<TextBlock Text="{Binding Progress, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Margin="0,10" FontSize="11"/>

					<TextBlock Text="%" Margin="0,10" FontSize="11"/>
				</StackPanel>
			</StackPanel>
		</StackPanel>

		<StackPanel Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="3" Grid.RowSpan="2" HorizontalAlignment="Center" IsEnabled="{Binding IsSelectDateEnabled}" Spacing="5">



		</StackPanel>

		<Border Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Left" Grid.RowSpan="7" IsVisible="True" IsEnabled="{Binding IsSelectDateEnabled}" Background="#F3F3F3" BorderBrush="#F3F3F3" BorderThickness="2" CornerRadius="2">
			<StackPanel Margin="2" VerticalAlignment="Center" >
				<TextBlock Text="Downloaded files: " FontWeight="SemiBold" FontSize="11" Margin="10,10,10,-10"/>

				<TabControl TabStripPlacement="Top" Width="350">
					<TabItem FontSize="12" HorizontalAlignment="Right" Header="Actris-Earlinet">
						<TabItem.Content>
							<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Height="190">
								<ItemsControl ItemsSource="{Binding DownloadedFiles_EARLINET}">
									<ItemsControl.ItemTemplate>
										<DataTemplate>
											<CheckBox Content="{Binding Name, UpdateSourceTrigger=PropertyChanged}" IsChecked="{Binding IsChecked, UpdateSourceTrigger=PropertyChanged}" Margin="5" FontStyle="Normal" FontSize="10"/>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</ScrollViewer>
						</TabItem.Content>
					</TabItem>

					<TabItem FontSize="12" HorizontalAlignment="Right" Header="Aeronet">
						<TabItem.Content>
							<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Height="190">
								<ItemsControl ItemsSource="{Binding DownloadedFiles_AERONET}">
									<ItemsControl.ItemTemplate>
										<DataTemplate>
											<CheckBox Content="{Binding Name, UpdateSourceTrigger=PropertyChanged}" IsChecked="{Binding IsChecked, UpdateSourceTrigger=PropertyChanged}" Margin="5" FontStyle="Normal" FontSize="10"/>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</ScrollViewer>
						</TabItem.Content>
					</TabItem>
				</TabControl>

				<Button Content="Keep selected files" Command="{Binding KeepSelectedFilesCmd}" HorizontalAlignment="Center" FontSize="11" Margin="5"/>
			</StackPanel>
		</Border>
	</Grid>
</UserControl>